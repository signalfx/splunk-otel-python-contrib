# Copy this file to `.env` and update values before running the example.

# Required OpenAI API key
OPENAI_API_KEY=sk-YOUR_API_KEY

# Traces will use this service.name
OTEL_SERVICE_NAME=traceloop-example

# OTLP exporter configuration (update for your collector)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf

# CRITICAL: Enable LoggerProvider for log/event export
# Without this, evaluation events will NOT be exported
OTEL_PYTHON_LOGGING_AUTO_INSTRUMENTATION_ENABLED=true

# Semantic conventions opt-in
OTEL_SEMCONV_STABILITY_OPT_IN=gen_ai_latest_experimental

# ============================================================================
# GenAI Instrumentation Settings
# ============================================================================

# Enable message content capture (required for evaluations to have context)
OTEL_INSTRUMENTATION_GENAI_CAPTURE_MESSAGE_CONTENT=true
OTEL_INSTRUMENTATION_GENAI_CAPTURE_MESSAGE_CONTENT_MODE=SPAN_AND_EVENT

# Emitters: enable span, metric, event AND splunk emitters
OTEL_INSTRUMENTATION_GENAI_EMITTERS=span_metric_event,splunk

# Use SplunkEvaluationResults emitter for evaluation events
OTEL_INSTRUMENTATION_GENAI_EMITTERS_EVALUATION=replace-category:SplunkEvaluationResults

# Aggregate evaluation results into single event per invocation
OTEL_INSTRUMENTATION_GENAI_EVALS_RESULTS_AGGREGATION=true

# ============================================================================
# Evaluation Configuration
# ============================================================================

# Enable Deepeval evaluator with default metrics (bias, toxicity, answer_relevancy, hallucination, sentiment)
# OTEL_INSTRUMENTATION_GENAI_EVALS_EVALUATORS=Deepeval

# Or specify only certain metrics:
# OTEL_INSTRUMENTATION_GENAI_EVALS_EVALUATORS=Deepeval(LLMInvocation(bias,toxicity))

# Or disable evaluations entirely:
# OTEL_INSTRUMENTATION_GENAI_EVALS_EVALUATORS=none

# ============================================================================
# Deepeval Settings
# ============================================================================

# Disable Deepeval's internal telemetry (reduces noise)
# DEEPEVAL_TELEMETRY_OPT_OUT=YES

# ============================================================================
# Debug Settings (optional)
# ============================================================================

# Enable debug logging for GenAI instrumentation
# OTEL_INSTRUMENTATION_GENAI_DEBUG=true

# Enable verbose logging
# OTEL_LOG_LEVEL=DEBUG

